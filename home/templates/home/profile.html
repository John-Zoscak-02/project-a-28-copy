{% extends 'home/base.html' %}

{# Load the tag library #}
{% load bootstrap5 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}

{% if user.is_authenticated %}
{% block title %}Account: {{profile.user.username}}{% endblock %}
{% endif %}

{% block content %}
<div class='container column gap-2'>
    {% if user.is_authenticated %}
        <div class="row">
            <h4>Friends:</h4>
            <div class="card example-1 scrollbar-ripe-malinka">
                <div class="card-body">
                    {% if profile.friends.all|length != 0 %}
                    {% for friend in profile.friends.all %}
                    <a class="nav-link" href="/profiles/{{friend.user.id}}">{{friend.user.username}}</a>
                    {% endfor %}
                    {% else %}
                    <ul class="nav flex-column">
                        <li>Ha Ha you have no friends :P</li>
                    </ul>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="row">
            <h4>Schedule: </h4>
            {{profile.schedule.classes|get_events}}
            <iframe
                src="https://calendar.google.com/calendar/embed?height=750&wkst=1&bgcolor=%23ffffff&ctz=America%2FNew_York&mode=WEEK&showTitle=0&showNav=0&showDate=0&showPrint=0&showTabs=0&showCalendars=0&showTz=0&src=Y184ZGM5YTI4MDM4ZTY5Zjc3OTdlYmRhZGE1ZDdhMDc0MmE4ODQyNTg3OTUxN2IzODUwMmU2MmFmM2FlMDk3NmE5QGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20&color=%239E69AF"
                style="border-width:0" width="1000" height="600" frameborder="0" scrolling="no"></iframe>
    {% else %}
    <p><strong><font color='red'>You must login to view member profiles</font></strong></p>
    {% endif %}
    {% autoescape off %}{% bootstrap_messages %}{% endautoescape %}
</div>
{% endblock %}